<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="default" namespace="/" extends="struts-default">

        <!-- Login -->
        <action name="login" class="com.myapp.struts.LoginAction">
            <result name="success">home.jsp</result>
            <result name="error">login.jsp</result>
        </action>

        <!-- Crear Arena -->
        <action name="mostrarCrearArena">
            <result name="success">crear_arena.jsp</result>
        </action>
        <action name="createArena" class="com.myapp.struts.CrearArenaAction">
            <result name="success">crear_arena.jsp</result>
            <result name="error">crear_arena.jsp</result>
        </action>

        <!-- Listar Arenas -->
        <action name="listArenas" class="com.myapp.struts.ListarArenasAction">
            <result name="success">listarArenas.jsp</result>
        </action>

        <!-- Eliminar Arena -->
        <action name="eliminarArena" class="com.myapp.struts.EliminarArenaAction" method="execute">
            <result name="success" type="redirectAction">listArenas</result>
            <result name="error" type="redirectAction">listArenas</result>
        </action>

        <!-- MenÃº Principal -->
        <action name="mostrarMenu">
            <result name="success">menu.jsp</result>
        </action>

        <!-- Editar Arena -->
        <action name="mostrarEditarArena" class="com.myapp.struts.EditarArenaAction" method="mostrarFormulario">
            <result name="success">editar_arena.jsp</result>
            <result name="error">listarArenas.jsp</result>
        </action>
        <action name="guardarArenaEditada" class="com.myapp.struts.EditarArenaAction" method="guardarCambios">
            <result name="success" type="redirectAction">listArenas</result>
            <result name="input">editar_arena.jsp</result>
            <result name="error">editar_arena.jsp</result>
        </action>
        
        <action name="register" class="com.myapp.struts.RegisterAction">
            <result name="login">login.jsp</result>
            <result name="error">register.jsp</result>
        </action>
        
        <action name="profile" class="com.myapp.struts.ProfileAction">
            <result name="success">profile.jsp</result>
            <result name="error">login.jsp</result>
        </action>

        <action name="actualizarPerfil" class="com.myapp.struts.ActualizarPerfilAction">
            <result name="success" type="redirectAction">profile</result>
            <result name="error">profile.jsp</result>
        </action>
        
        <action name="comunidad" class="com.myapp.struts.ComunidadAction">
            <result name="success">comunidad.jsp</result>
        </action>
        
        <action name="misScripts" class="com.myapp.struts.MisScriptsAction">
            <result name="success">misScripts.jsp</result>
            <result name="error">errorPage.jsp</result>
        </action>
        
        <action name="actualizarScript" class="com.myapp.struts.ActualizarScriptAction">
            <result name="success" type="redirectAction">misScripts</result>
            <result name="error">errorPage.jsp</result>
        </action>
        
        <action name="subirScript" class="com.myapp.struts.SubirScriptAction">
            <result name="success" type="redirectAction">misScripts</result>
            <result name="error">errorPage.jsp</result>
        </action>
        
        <action name="descargarScript" class="com.myapp.struts.DescargarScriptAction">
            <result name="success" type="stream">
                <param name="contentType">text/plain</param>
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">attachment;filename="${fileName}"</param>
            </result>
            <result name="error">errorPage.jsp</result>
        </action>

    </package>
</struts>
